(()=>{var e={};e.id=813,e.ids=[813],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},9868:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>d,pages:()=>m,routeModule:()=>x,tree:()=>o}),t(32090),t(56290),t(94618),t(88353),t(96560);var r=t(23191),l=t(88716),a=t(37922),i=t.n(a),n=t(95231),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);t.d(s,c);let o=["",{children:["(defaults)",{children:["utilisateur",{children:["add",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,32090)),"/Users/yacine/Desktop/PROJET DSTD/suiviencaissement/app/(defaults)/utilisateur/add/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,56290)),"/Users/yacine/Desktop/PROJET DSTD/suiviencaissement/app/(defaults)/layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,4998))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,94618)),"/Users/yacine/Desktop/PROJET DSTD/suiviencaissement/app/layout.tsx"],loading:[()=>Promise.resolve().then(t.bind(t,88353)),"/Users/yacine/Desktop/PROJET DSTD/suiviencaissement/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,96560)),"/Users/yacine/Desktop/PROJET DSTD/suiviencaissement/app/not-found.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,4998))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],m=["/Users/yacine/Desktop/PROJET DSTD/suiviencaissement/app/(defaults)/utilisateur/add/page.tsx"],d="/(defaults)/utilisateur/add/page",u={require:t,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/(defaults)/utilisateur/add/page",pathname:"/utilisateur/add",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},70048:(e,s,t)=>{Promise.resolve().then(t.bind(t,81449))},36503:(e,s,t)=>{"use strict";t.d(s,{Z:()=>l});var r=t(10326);let l=({className:e})=>(0,r.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[r.jsx("path",{d:"M9.5 7L4.5 12L9.5 17",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r.jsx("path",{opacity:"0.5",d:"M4.5 12L14.5 12C16.1667 12 19.5 13 19.5 17",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]})},61098:(e,s,t)=>{"use strict";t.d(s,{Z:()=>l});var r=t(10326);let l=({className:e})=>(0,r.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[r.jsx("path",{d:"M3.46447 20.5355C4.92893 22 7.28595 22 12 22C16.714 22 19.0711 22 20.5355 20.5355C22 19.0711 22 16.714 22 12C22 11.6585 22 11.4878 21.9848 11.3142C21.9142 10.5049 21.586 9.71257 21.0637 9.09034C20.9516 8.95687 20.828 8.83317 20.5806 8.58578L15.4142 3.41944C15.1668 3.17206 15.0431 3.04835 14.9097 2.93631C14.2874 2.414 13.4951 2.08581 12.6858 2.01515C12.5122 2 12.3415 2 12 2C7.28595 2 4.92893 2 3.46447 3.46447C2 4.92893 2 7.28595 2 12C2 16.714 2 19.0711 3.46447 20.5355Z",stroke:"currentColor",strokeWidth:"1.5"}),r.jsx("path",{d:"M17 22V21C17 19.1144 17 18.1716 16.4142 17.5858C15.8284 17 14.8856 17 13 17H11C9.11438 17 8.17157 17 7.58579 17.5858C7 18.1716 7 19.1144 7 21V22",stroke:"currentColor",strokeWidth:"1.5"}),r.jsx("path",{opacity:"0.5",d:"M7 8H13",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]})},81449:(e,s,t)=>{"use strict";t.d(s,{default:()=>m});var r=t(10326),l=t(17577),a=t(174),i=t(61098),n=t(36503),c=t(67981),o=t(12919);let m=()=>{let[e,s]=(0,l.useState)({name:"",prenom:"",email:"",number:""}),[t,m]=(0,l.useState)({matricule:"",profil:"",dr:[],secteur:[]}),[d,u]=(0,l.useState)({name:"",prenom:"",email:"",number:"",matricule:"",profil:"",dr:"",secteur:""}),[x,p]=(0,l.useState)([]),[h,j]=(0,l.useState)({}),[f,b]=(0,l.useState)([]),[g,N]=(0,l.useState)([]),[v,y]=(0,l.useState)(!1),[w,k]=(0,l.useState)(!1);(0,l.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/data"),s=await e.json();p(s.profils),j(s.dr_secteurs)}catch(e){console.error("Erreur lors de la r\xe9cup\xe9ration des donn\xe9es",e)}})()},[]);let C=()=>{let s={...d},r=!0;return e.name?s.name="":(s.name="Le nom est obligatoire",r=!1),e.prenom?s.prenom="":(s.prenom="Le pr\xe9nom est obligatoire",r=!1),e.email?s.email="":(s.email="L'email est obligatoire",r=!1),e.number?s.number="":(s.number="Le t\xe9l\xe9phone est obligatoire",r=!1),t.matricule?s.matricule="":(s.matricule="Le matricule est obligatoire",r=!1),t.profil?s.profil="":(s.profil="Le profil est obligatoire",r=!1),["Comptable","AGC"].includes(t.profil)?(0===t.dr.length?(s.dr="La direction r\xe9gionale est obligatoire",r=!1):s.dr="",0===t.secteur.length?(s.secteur="Le secteur est obligatoire",r=!1):s.secteur=""):(s.dr="",s.secteur=""),u(s),r},P=(e="",s="success")=>{o.Z.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:3e3,customClass:{container:"toast"}}).fire({icon:s,title:e,padding:"10px 20px"})},D=async()=>{if(C()){let s={name:e.name,prenom:e.prenom,email:e.email,number:e.number,matricule:t.matricule,profil:t.profil,dr:t.dr,secteur:t.secteur};try{let e=await fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:s})});if(e.ok)await e.json(),P("L'utilisateur a \xe9t\xe9 cr\xe9\xe9 avec succ\xe8s","success");else{let s=await e.json();P(s.message,"error")}}catch(e){P("Erreur lors de la soumission","error")}}},S=t=>{s({...e,[t.target.name]:t.target.value})};return(0,r.jsxs)("div",{className:"flex flex-col gap-2.5 xl:flex-row",children:[(0,r.jsxs)("div",{className:"panel flex-1 px-0 py-6 ltr:xl:mr-6 rtl:xl:ml-6",children:[(0,r.jsxs)("p",{className:"item-center flex justify-center text-center",children:[r.jsx("button",{type:"button",className:"flex cursor-default items-center rounded-md font-medium text-primary duration-300",children:r.jsx(c.Z,{className:"shrink-0 fill-primary"})}),r.jsx("span",{className:"ml-2 text-xl font-thin text-black",children:"Ajouter un utilisateur"})]}),r.jsx("hr",{className:"my-6 border-white-light dark:border-[#1b2e4b]"}),(0,r.jsxs)("div",{className:"mt-8 px-4",children:[(0,r.jsxs)("div",{className:"flex flex-col justify-between lg:flex-row",children:[(0,r.jsxs)("div",{className:"mb-6 w-full lg:w-1/2 ltr:lg:mr-6 rtl:lg:ml-6",children:[r.jsx("div",{className:"text-lg",children:"Information personnelle :"}),(0,r.jsxs)("div",{className:"mt-4 flex items-center",children:[(0,r.jsxs)("label",{htmlFor:"reciever-name",className:"mb-0 w-1/3 ltr:mr-2 rtl:ml-2",children:["Nom",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{id:"reciever-name",type:"text",name:"name",className:"form-input flex-1",placeholder:"Entrer votre nom",onChange:S})]}),d.name&&r.jsx("p",{className:"text-red-500",children:d.name}),(0,r.jsxs)("div",{className:"mt-4 flex items-center",children:[(0,r.jsxs)("label",{htmlFor:"reciever-prenom",className:"mb-0 w-1/3 ltr:mr-2 rtl:ml-2",children:["Pr\xe9noms",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{id:"reciever-prenom",type:"text",name:"prenom",className:"form-input flex-1",placeholder:"Entrer votre pr\xe9nom",onChange:S})]}),d.prenom&&r.jsx("p",{className:"text-red-500",children:d.prenom}),(0,r.jsxs)("div",{className:"mt-4 flex items-center",children:[(0,r.jsxs)("label",{htmlFor:"reciever-email",className:"mb-0 w-1/3 ltr:mr-2 rtl:ml-2",children:["Email",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{id:"reciever-email",type:"email",name:"email",className:"form-input flex-1",placeholder:"Entrer votre email",onChange:S})]}),d.email&&r.jsx("p",{className:"text-red-500",children:d.email}),(0,r.jsxs)("div",{className:"mt-4 flex items-center",children:[(0,r.jsxs)("label",{htmlFor:"reciever-number",className:"mb-0 w-1/3 ltr:mr-2 rtl:ml-2",children:["T\xe9l\xe9phone",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{id:"reciever-number",type:"text",name:"number",className:"form-input flex-1",placeholder:"Entrer votre t\xe9l\xe9phone",onChange:S})]}),d.number&&r.jsx("p",{className:"text-red-500",children:d.number})]}),(0,r.jsxs)("div",{className:"w-full lg:w-1/2",children:[r.jsx("div",{className:"text-lg",children:"Information Compte :"}),(0,r.jsxs)("div",{className:"mt-4 flex items-center",children:[(0,r.jsxs)("label",{htmlFor:"acno",className:"mb-0 w-1/3 ltr:mr-2 rtl:ml-2",children:["Matricule",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{id:"acno",type:"text",name:"matricule",className:"form-input flex-1",placeholder:"Entrer votre matricule",onChange:e=>{m({...t,[e.target.name]:e.target.value})}})]}),d.matricule&&r.jsx("p",{className:"text-red-500",children:d.matricule}),(0,r.jsxs)("div",{className:"mt-4 flex items-center",children:[(0,r.jsxs)("label",{htmlFor:"profil",className:"mb-0 w-1/3 ltr:mr-2 rtl:ml-2",children:["Profil",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(a.ZP,{placeholder:"Choisir un profil",options:x,onChange:e=>{if(e){if(["Comptable","AGC"].includes(e.value)){let e=Object.keys(h).map(e=>({value:e,label:e}));y(!0),b(e)}else y(!1),b([]),N([]),k(!1),m({...t,dr:[],secteur:[]});m({...t,profil:e.value})}else y(!1),k(!1),m({...t,profil:"",dr:[],secteur:[]})},isClearable:!0})]}),d.profil&&r.jsx("p",{className:"text-red-500",children:d.profil}),v&&(0,r.jsxs)("div",{className:"mt-4 flex items-center",children:[(0,r.jsxs)("label",{htmlFor:"DR",className:"mb-0 w-1/3 ltr:mr-2 rtl:ml-2",children:["Direction r\xe9gionale",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(a.ZP,{placeholder:"S\xe9lectionner une direction r\xe9gionale",options:f,isMulti:!0,onChange:(e,s)=>{let r=e.map(e=>e.value),l=t.secteur.filter(e=>r.some(s=>h[s]?.includes(e)));N(r.flatMap(e=>h[e]||[])),k(e.length>0),m(s=>({...s,dr:Array.from(e),secteur:l}))}})]}),d.dr&&r.jsx("p",{className:"text-red-500",children:d.dr}),w&&(0,r.jsxs)("div",{className:"mt-4 flex items-center",children:[(0,r.jsxs)("label",{htmlFor:"secteur",className:"mb-0 w-1/3 ltr:mr-2 rtl:ml-2",children:["Secteur",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(a.ZP,{placeholder:"S\xe9lectionner un secteur",options:g,isMulti:!0,onChange:(e,s)=>{m({...t,secteur:Array.from(e)})},value:t.secteur})]}),d.secteur&&r.jsx("p",{className:"text-red-500",children:d.secteur})]})]}),r.jsx("div",{className:"mb-10 mt-10",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-1",children:[(0,r.jsxs)("button",{type:"button",className:"btn btn-success w-full gap-2",onClick:D,children:[r.jsx(i.Z,{className:"shrink-0 ltr:mr-2 rtl:ml-2"}),"Ajouter"]}),(0,r.jsxs)("button",{type:"button",className:"btn btn-danger w-full gap-2",children:[r.jsx(n.Z,{className:"shrink-0 ltr:mr-2 rtl:ml-2"}),"Retour"]})]})})]})]}),r.jsx("div",{className:"mt-6 w-full xl:mt-0 xl:w-96",children:(0,r.jsxs)("div",{className:"panel mb-5 h-full",children:[r.jsx("hr",{className:"my-6 border-white-light dark:border-[#1b2e4b]"}),(0,r.jsxs)("p",{className:"flex items-center justify-center text-center",children:[r.jsx("button",{type:"button",className:" h-10 cursor-default items-center rounded-md font-medium text-success duration-300",children:r.jsx(c.Z,{className:"shrink-0 fill-success"})}),r.jsx("span",{className:"ml-4 items-center justify-center text-center text-lg font-bold",children:"R\xe9capitulatif"})]}),(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsxs)("p",{children:[(0,r.jsxs)("label",{className:"text-[#8e8e8e]",children:["Nom : ",r.jsx("span",{className:"text-black",children:e.name})]})," ",r.jsx("br",{}),(0,r.jsxs)("label",{className:"text-[#8e8e8e]",children:["Pr\xe9noms :"," ",(0,r.jsxs)("span",{className:"text-black",children:[e.prenom," "]})]}),r.jsx("br",{}),(0,r.jsxs)("label",{className:"text-[#8e8e8e]",children:["Email : ",r.jsx("span",{className:"text-black",children:e.email})]})," ",r.jsx("br",{}),(0,r.jsxs)("label",{className:"text-[#8e8e8e]",children:["T\xe9l\xe9phone :"," ",r.jsx("span",{className:"text-black",children:e.number})]})," "]}),(0,r.jsxs)("p",{className:"mt-4",children:[(0,r.jsxs)("label",{className:"text-[#8e8e8e]",children:["Matricule :"," ",r.jsx("span",{className:"text-black",children:t.matricule})]})," ",r.jsx("br",{}),(0,r.jsxs)("label",{className:"text-[#8e8e8e]",children:["Profil :"," ",r.jsx("span",{className:"text-black",children:t.profil})]})," ",r.jsx("br",{}),v&&t.dr.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("label",{className:"text-[#8e8e8e]",children:["Direction r\xe9gionale :"," ",r.jsx("span",{className:"text-black",children:t.dr.map(e=>e.label).join(", ")})]})," ",r.jsx("br",{})]}),w&&t.secteur.length>0&&(0,r.jsxs)("label",{className:"text-[#8e8e8e]",children:["Secteur :"," ",r.jsx("span",{className:"text-black",children:t.secteur.map(e=>e.label).join(", ")})]})]})]})]})})]})}},32090:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>m,metadata:()=>o});var r=t(19510),l=t(68570);let a=(0,l.createProxy)(String.raw`/Users/yacine/Desktop/PROJET DSTD/suiviencaissement/components/invoice/components-apps-invoice-add.tsx`),{__esModule:i,$$typeof:n}=a;a.default;let c=(0,l.createProxy)(String.raw`/Users/yacine/Desktop/PROJET DSTD/suiviencaissement/components/invoice/components-apps-invoice-add.tsx#default`);t(71159);let o={title:"Ajouter un utilisateur"},m=()=>r.jsx(c,{})}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[948,573,594,549,607,134,773],()=>t(9868));module.exports=r})();